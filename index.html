<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞</title>
<style>
/* --- ‡§µ‡§π‡•Ä UI ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ (Navbar, Grid, Cart) ‡§õ‡•ã‡§ü‡§æ ‡§∞‡§ñ‡§æ ‡§π‡•à --- */
body{font-family:'Segoe UI',sans-serif;margin:0;background:#f2f2f2;padding-bottom:150px}
.navbar{position:fixed;top:0;left:0;right:0;display:flex;overflow-x:auto;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.1);z-index:999}
.navbar a{padding:14px 20px;font-weight:600;color:#333;text-decoration:none;white-space:nowrap}
.navbar a:hover,.navbar a.active{background:#f8225e;color:#fff}
section{padding:80px 16px 24px}
h2{margin-top:40px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:14px}
.card{background:#fff;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.08);text-align:center;padding-bottom:10px}
.card img{width:100%;height:100px;object-fit:cover}
.card h4{margin:8px 0 4px;font-size:15px}
.price{color:green;font-weight:bold}
.qty-input{width:60px;margin-top:4px;padding:4px;text-align:center;border:1px solid #ccc;border-radius:4px}
.btn{margin:6px;padding:5px 10px;border-radius:20px;border:1px solid #f8225e;background:#fff;color:#f8225e;cursor:pointer}
.btn:hover{background:#f8225e;color:#fff}
.cart-bar{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:16px;box-shadow:0 -2px 10px rgba(0,0,0,.1);z-index:1000}
.cart-bar ul{list-style:none;padding-left:20px;margin:10px 0;max-height:110px;overflow-y:auto}
.remove-btn{margin-left:8px;background:red;color:#fff;border:none;padding:2px 8px;border-radius:6px;cursor:pointer}
.submit-btn{background:#25a244;color:#fff;border:none;padding:12px 20px;font-weight:600;border-radius:10px;cursor:pointer}
.form-box{padding:16px;background:#fff;margin:70px 16px 10px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
.form-box input{width:100%;padding:8px;margin:6px 0;border:1px solid #ccc;border-radius:6px;font-size:14px}
</style>
</head>
<body>

<!-- ---------- NAV ---------- -->
<nav class="navbar">
 <a href="#biscuits" class="active">‡§¨‡§ø‡§∏‡•ç‡§ï‡§ø‡§ü</a>
 <a href="#oil">‡§§‡•á‡§≤</a>
 <a href="#soap">‡§∏‡§æ‡§¨‡•Å‡§®</a>
</nav>

<!-- ---------- CUSTOMER FORM ---------- -->
<div class="form-box" id="custForm">
  <h3>üöö ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§°‡§ø‡§ü‡•á‡§≤</h3>
  <input id="custName" placeholder="‡§®‡§æ‡§Æ"/>
  <input id="custMobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞"/>
  <input id="custAddr" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ"/>
</div>

<!-- ---------- ITEMS (demo 1‚Äì2 per category) ---------- -->
<section id="biscuits"><h2>‡§¨‡§ø‡§∏‡•ç‡§ï‡§ø‡§ü</h2><div class="grid">
  <div class="card">
    <img src="images/parle.jpg" alt="Parle-G">
    <h4>Parle-G</h4><div class="price">‚Çπ5</div>
    <input type="number" id="q1" class="qty-input" placeholder="pic">
    <button class="btn" onclick="add('Parle-G',5,'pic',q1.value)">‚ûï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  </div>
  <div class="card">
    <img src="images/britannia.jpg" alt="Britannia">
    <h4>Britannia</h4><div class="price">‚Çπ10</div>
    <input type="number" id="q2" class="qty-input" placeholder="pic">
    <button class="btn" onclick="add('Britannia',10,'pic',q2.value)">‚ûï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  </div>
</div></section>

<section id="oil"><h2>‡§§‡•á‡§≤</h2><div class="grid">
  <div class="card">
    <img src="images/oil.jpg" alt="Refined Oil">
    <h4>Refined Oil (1L)</h4><div class="price">‚Çπ120</div>
    <input type="number" id="q3" class="qty-input" placeholder="ltr">
    <button class="btn" onclick="add('Refined Oil',120,'ltr',q3.value)">‚ûï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  </div>
</div></section>

<section id="soap"><h2>‡§∏‡§æ‡§¨‡•Å‡§®</h2><div class="grid">
  <div class="card">
    <img src="images/lifebuoy.jpg" alt="Lifebuoy">
    <h4>Lifebuoy</h4><div class="price">‚Çπ20</div>
    <input type="number" id="q4" class="qty-input" placeholder="pic">
    <button class="btn" onclick="add('Lifebuoy',20,'pic',q4.value)">‚ûï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  </div>
</div></section>

<!-- ---------- CART ---------- -->
<div class="cart-bar">
  <div id="cartInfo">üõí ‡§Ü‡§™‡§ï‡§æ ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à</div>
  <ul id="cartList"></ul>
  <button class="submit-btn" onclick="submitOrder()">üì§ Submit Order</button>
</div>

<script>
const minOrder = 100;
let cart = [];
const waNumber = '916351598832';
const tgToken  = '7729928604:AAEINikbhwHTMSK1pgV3nROUfSGEVb-z2r4';
const tgChatId = '6798434092';

function add(name, price, unit, qty){
  qty=parseFloat(qty);
  if(!qty||qty<=0){alert('Qty?');return;}
  const totQty = cart.reduce((s,i)=>s+i.qty,0);
  const totAmt = cart.reduce((s,i)=>s+i.price,0);
  const newTot = totAmt + price*qty;
  const newQty = totQty + qty;
  if(newQty>newTot){alert(`‚Çπ${newTot} ‡§Æ‡•á‡§Ç ${newQty} ‡§Ü‡§á‡§ü‡§Æ ‡§®‡§π‡•Ä‡§Ç!`);return;}
  cart.push({name:`${name} (${qty} ${unit})`,price:price*qty,qty});
  update();
}
function update(){
  const total = cart.reduce((s,i)=>s+i.price,0);
  document.getElementById('cartInfo').textContent=`${cart.length} ‡§ö‡•Ä‡§ú‡§º‡•á‡§Ç | ‚Çπ${total}`;
  let list=''; cart.forEach((i,x)=>
    list+=`<li>‚úîÔ∏è ${i.name} - ‚Çπ${i.price} <button class='remove-btn' onclick='cart.splice(${x},1);update()'>‚ùå</button></li>`
  );
  document.getElementById('cartList').innerHTML=list;
}

function submitOrder(){
  if(!cart.length){alert('üõí ‡§™‡§π‡§≤‡•á ‡§Ü‡§á‡§ü‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç');return;}
  const total=cart.reduce((s,i)=>s+i.price,0);
  if(total<minOrder){alert('‚ùå ‡§Æ‡§ø‡§®‡§ø‡§Æ‡§Æ ‚Çπ100');return;}

  // get customer details
  let nm=document.getElementById('custName').value.trim()||'N/A';
  let mb=document.getElementById('custMobile').value.trim()||'N/A';
  let ad=document.getElementById('custAddr').value.trim()||'N/A';

  // get live location
  navigator.geolocation.getCurrentPosition(pos=>{
     const {latitude,longitude}=pos.coords;
     sendOrder(nm,mb,ad,latitude,longitude,total);
  },()=>{sendOrder(nm,mb,ad,null,null,total)});
}

function sendOrder(nm,mb,ad,lat,lon,total){
  let msg='üõçÔ∏è *‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞:*\\n';
  cart.forEach(i=>msg+=`‚Ä¢ ${i.name} - ‚Çπ${i.price}\\n`);
  msg+=`\\nüí∞ *‡§ï‡•Å‡§≤: ‚Çπ${total}*`;
  msg+=`\\nüë§ *‡§ó‡•ç‡§∞‡§æ‡§π‡§ï:* ${nm}\\nüìû ${mb}\\nüè† ${ad}`;
  if(lat&&lon) msg+=`\\nüìç https://www.google.com/maps?q=${lat},${lon}`;

  // WhatsApp
  window.open(`https://wa.me/${waNumber}?text=${encodeURIComponent(msg)}`,'_blank');

  // Telegram
  fetch(`https://api.telegram.org/bot${tgToken}/sendMessage`,{
    method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({chat_id:tgChatId,text:msg,parse_mode:'Markdown'})
  }).then(r=>r.json()).then(d=>{
    if(d.ok) alert('‚úÖ Telegram ‡§™‡§∞ ‡§≠‡•á‡§ú ‡§¶‡§ø‡§Ø‡§æ!');
    else alert('‚ùå Telegram error');
  });
}
</script>
</body>
</html>
