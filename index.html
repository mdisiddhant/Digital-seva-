<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞</title>
<style>
/* ‚Äî‚Äî basic UI styles (‡§™‡§π‡§≤‡•á ‡§ú‡•à‡§∏‡•á) ‚Äî‚Äî */
body{font-family:'Segoe UI',sans-serif;margin:0;background:#f7f7f7;padding-bottom:150px}
.navbar{position:fixed;top:0;left:0;right:0;display:flex;overflow-x:auto;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.1);z-index:999}
.navbar a{padding:14px 20px;font-weight:600;color:#333;text-decoration:none;white-space:nowrap}
.navbar a:hover{background:#f8225e;color:#fff}
section{padding:80px 16px 24px}h2{margin-top:40px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:14px}
.card{background:#fff;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.08);text-align:center;padding-bottom:10px}
.card img{width:100%;height:100px;object-fit:cover;border-top-left-radius:10px;border-top-right-radius:10px}
.card h4{margin:8px 0 4px;font-size:15px}
.price-select,.qty-input{width:75px;padding:4px;margin-top:4px;border:1px solid #ccc;border-radius:4px;text-align:center}
.btn{margin:6px;padding:5px 10px;border-radius:20px;border:1px solid #f8225e;background:#fff;color:#f8225e;cursor:pointer}
.btn:hover{background:#f8225e;color:#fff}
.form-box{padding:16px;background:#fff;margin:70px 16px 10px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
.form-box input{width:100%;padding:8px;margin:6px 0;border:1px solid #ccc;border-radius:6px}
.cart-bar{position:fixed;bottom:0;left:0;right:0;background:#fff;box-shadow:0 -2px 10px rgba(0,0,0,.1);padding:14px;z-index:1000}
.cart-bar ul{list-style:none;padding-left:20px;margin:8px 0;max-height:110px;overflow-y:auto}
.remove-btn{margin-left:8px;background:red;color:#fff;border:none;padding:2px 8px;border-radius:6px;cursor:pointer}
.submit-btn{background:#25a244;color:#fff;border:none;padding:12px 20px;font-weight:600;border-radius:10px;cursor:pointer}
</style>
</head>
<body>

<nav class="navbar" id="navBar"></nav>

<div class="form-box">
  <h3>üöö ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§°‡§ø‡§ü‡•á‡§≤</h3>
  <input id="custName" placeholder="‡§®‡§æ‡§Æ">
  <input id="custMobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
  <input id="custAddr" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ">
</div>

<div id="itemsWrap"></div>

<div class="cart-bar">
  <div id="cartInfo">üõí ‡§Ü‡§™‡§ï‡§æ ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à</div>
  <div id="cartTotal" style="font-weight:bold">üí∞ ‡§ï‡•Å‡§≤: ‚Çπ0</div>
  <ul id="cartList"></ul>
  <button class="submit-btn" onclick="submitOrder()">üì§ Submit Order</button>
</div>

<script>
/* ===== CONFIG ===== */
const waNumber='916351598832';
const tgToken ='7729928604:AAEINikbhwHTMSK1pgV3nROUfSGEVb-z2r4';
const tgChatId='6798434092';
const minOrder=100;

/* ===== IMAGE MAP ===== */
const imgMap={
  'Parle-G':'https://i.postimg.cc/3wycqY2R/17525009998764074664621859523129.jpg',
  'Good Day':'https://i.postimg.cc/3wycqY2R/17525009998764074664621859523129.jpg',
  'Hide & Seek':'https://i.postimg.cc/3wycqY2R/17525009998764074664621859523129.jpg',
  'Refined Oil':'https://i.postimg.cc/3wycqY2R/17525009998764074664621859523129.jpg',
  /* ‡§¨‡§æ‡§ï‡•Ä ‡§Ü‡§á‡§ü‡§Æ ‡§ö‡§æ‡§π‡•á‡§Ç ‡§§‡•ã ‡§Ø‡§π‡§æ‡§Å ‡§ú‡•ã‡§°‡§º‡•á‡§Ç */
};
const defaultImg='https://i.postimg.cc/3wycqY2R/17525009998764074664621859523129.jpg';

/* ===== DATA (‡§™‡•ç‡§∞‡§æ‡§á‡§∏ ‡§µ‡•à‡§∞‡§ø‡§è‡§Ç‡§ü ‡§ï‡•á ‡§∏‡§æ‡§•) ===== */
const data={
'‡§¨‡§ø‡§∏‡•ç‡§ï‡§ø‡§ü':[
  {name:'Parle-G',         prices:[5,10,20]},
  {name:'Good Day',        prices:[10,20,50]},
  {name:'Hide & Seek',     prices:[10,20,50]},
  {name:'Marie',           prices:[5,10,20]}
],
'‡§§‡•á‡§≤':[
  {name:'Refined Oil',     prices:[50,100]},
  {name:'Mustard Oil',     prices:[50,120]},
  {name:'Groundnut Oil',   prices:[60,120]},
  {name:'Soyabean Oil',    prices:[50,110]}
],
'‡§∏‡§æ‡§¨‡•Å‡§® / ‡§∂‡•à‡§Ç‡§™‡•Ç':[
  {name:'Lifebuoy',        prices:[10,20]},
  {name:'Lux',             prices:[10,20]},
  {name:'Clinic Plus',     prices:[1,2,5]},
  {name:'Head & Shoulders',prices:[5,10,20]}
],
/* ‚Ä¶ ‡§á‡§∏‡•Ä ‡§§‡§∞‡§π ‡§¨‡§æ‡§ï‡•Ä ‡§ï‡•à‡§ü‡•á‡§ó‡§∞‡•Ä */
};

/* ===== BUILD HTML ===== */
const nav=document.getElementById('navBar');
const wrap=document.getElementById('itemsWrap');
let id=1;
for(const [cat,items] of Object.entries(data)){
  nav.innerHTML+=`<a href="#sec${id}">${cat}</a>`;
  let sec=`<section id="sec${id}"><h2>${cat}</h2><div class="grid">`;
  items.forEach(it=>{
    const img=imgMap[it.name]||defaultImg;
    sec+=`<div class="card">
      <img src="${img}" alt="${it.name}">
      <h4>${it.name}</h4>
      <select id="p${id}" class="price-select">
        ${it.prices.map(v=>`<option value="${v}">‚Çπ${v}</option>`).join('')}
      </select>
      <input id="q${id}" type="number" class="qty-input" placeholder="Qty">
      <button class="btn"
        onclick="add('${it.name}',parseInt(p${id}.value),'unit',q${id}.value)">‚ûï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
    </div>`;
    id++;
  });
  sec+='</div></section>';
  wrap.innerHTML+=sec;
}

/* ===== CART LOGIC ===== */
let cart=[];
function add(name,price,unit,qty){
  qty=parseFloat(qty);
  if(!qty||qty<=0){alert('Qty?');return;}
  const totQty=cart.reduce((s,i)=>s+i.qty,0);
  const totAmt=cart.reduce((s,i)=>s+i.price,0);
  const newAmt=totAmt+price*qty;
  const newQty=totQty+qty;
  const maxAllowed=newAmt>=10?Math.floor(newAmt/10):1;
  if(newQty>maxAllowed){alert(`‚ùå ‚Çπ${newAmt} ‡§Æ‡•á‡§Ç ‡§∏‡§ø‡§∞‡•ç‡§´ ${maxAllowed} ‡§Ü‡§á‡§ü‡§Æ`);return;}
  cart.push({name:`${name} (${qty})`,price:price*qty,qty});
  update();
}
function update(){
  const total=cart.reduce((s,i)=>s+i.price,0);
  document.getElementById('cartInfo').textContent=`${cart.length} ‡§Ü‡§á‡§ü‡§Æ | ‚Çπ${total}`;
  document.getElementById('cartTotal').textContent=`üí∞ ‡§ï‡•Å‡§≤: ‚Çπ${total}`;
  const ul=document.getElementById('cartList');ul.innerHTML='';
  cart.forEach((i,x)=>ul.innerHTML+=`<li>‚úîÔ∏è ${i.name} - ‚Çπ${i.price}<button class="remove-btn" onclick="cart.splice(${x},1);update()">‚ùå</button></li>`);
}
function submitOrder(){
  if(!cart.length){alert('üõí ‡§™‡§π‡§≤‡•á ‡§Ü‡§á‡§ü‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç');return;}
  const total=cart.reduce((s,i)=>s+i.price,0);
  if(total<minOrder){alert('‚ùå ‡§Æ‡§ø‡§®‡§ø‡§Æ‡§Æ ‚Çπ100');return;}
  const nm=document.getElementById('custName').value||'N/A';
  const mb=document.getElementById('custMobile').value||'N/A';
  const ad=document.getElementById('custAddr').value||'N/A';
  navigator.geolocation.getCurrentPosition(
    pos=>sendOrder(nm,mb,ad,pos.coords.latitude,pos.coords.longitude,total),
    ()=>sendOrder(nm,mb,ad,null,null,total)
  );
}
function sendOrder(nm,mb,ad,lat,lon,total){
  let msg='üõçÔ∏è *‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞:*\\n';
  cart.forEach(i=>msg+=`‚Ä¢ ${i.name} - ‚Çπ${i.price}\\n`);
  msg+=`\\nüí∞ *‡§ï‡•Å‡§≤: ‚Çπ${total}*\\nüë§ *‡§ó‡•ç‡§∞‡§æ‡§π‡§ï:* ${nm}\\nüìû ${mb}\\nüè† ${ad}`;
  if(lat&&lon)msg+=`\\nüìç https://www.google.com/maps?q=${lat},${lon}`;
  window.open(`https://wa.me/${waNumber}?text=${encodeURIComponent(msg)}`,'_blank');
  fetch(`https://api.telegram.org/bot${tgToken}/sendMessage`,{
    method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({chat_id:tgChatId,text:msg,parse_mode:'Markdown'})
  }).then(r=>r.json()).then(d=>alert(d.ok?'‚úÖ Telegram ‡§≠‡•á‡§ú‡§æ!':'‚ùå Telegram error'));
}
</script>
</body>
</html>
